#pragma checksum "C:\Softwares\Quotation_Management\Quotation_Management\Views\Admin\UserUpdate.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "a282267781c4a5f8b2431ccf25533a8583490f35f28cfd14bb48eca6862e54f0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCoreGeneratedDocument.Views_Admin_UserUpdate), @"mvc.1.0.view", @"/Views/Admin/UserUpdate.cshtml")]
namespace AspNetCoreGeneratedDocument
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using Quotation_Management

#nullable disable
    ;
#nullable restore
#line 2 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using Quotation_Management.Models

#nullable disable
    ;
#nullable restore
#line 4 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using DevExpress.AspNetCore

#nullable disable
    ;
#nullable restore
#line 5 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using DevExtreme.AspNet.Mvc

#nullable disable
    ;
    #line default
    #line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"a282267781c4a5f8b2431ccf25533a8583490f35f28cfd14bb48eca6862e54f0", @"/Views/Admin/UserUpdate.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"e5aa15149a6f814aca9c9febb58b8d5784979381ee3c7539cba075d77e91d2ea", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    internal sealed class Views_Admin_UserUpdate : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("userInfo"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("novalidate", new global::Microsoft.AspNetCore.Html.HtmlString(""), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\Softwares\Quotation_Management\Quotation_Management\Views\Admin\UserUpdate.cshtml"
   
    ViewData["Title"] = "Update User";

#line default
#line hidden
#nullable disable

            WriteLiteral("\r\n<script>\r\n    var roles = [];\r\n    var dropDownValue;\r\n    var regiondropDown;\r\n\r\n  $(function () {\r\n      GetRoles();\r\n      GetRegions();\r\n    });\r\n\r\n            function GetRegions() {\r\n         $.get(\'");
            Write(
#nullable restore
#line 16 "C:\Softwares\Quotation_Management\Quotation_Management\Views\Admin\UserUpdate.cshtml"
                 Url.Action("GetRegions", "Admin")

#line default
#line hidden
#nullable disable
            );
            WriteLiteral(@"', function (data) {
             regions = data;
             console.log(regions, ""Regions"");
             $('#userRegions').dxTagBox({
                 searchEnabled: true,
                 placeholder: 'Choose or type Region',
                 dataSource: new DevExpress.data.ArrayStore({
                     data: regions,
                     key: 'RegionId',
                 }),
                 displayExpr: 'Name',
                 valueExpr: 'Name',
                 onValueChanged(e) {
                     regiondropDown = e.value;
                 },
             });
        });
    }


    function GetRoles() {
         $.get('");
            Write(
#nullable restore
#line 37 "C:\Softwares\Quotation_Management\Quotation_Management\Views\Admin\UserUpdate.cshtml"
                 Url.Action("GetRoles", "Admin")

#line default
#line hidden
#nullable disable
            );
            WriteLiteral(@"', function (data) {
            roles = data;
             console.log(roles, ""RolEs"");
             $('#productsDataSource').dxTagBox({
                 searchEnabled: true,
                 placeholder: 'Choose or type role name',
                 dataSource: new DevExpress.data.ArrayStore({
                     data: roles,
                     key: 'Id',
                 }),
                 displayExpr: 'Name',
                 valueExpr: 'Name',
                 onValueChanged(e) {
                     console.log(e, ""e"");
                     dropDownValue = e.value;
                 },
             });
        });
    }

    function checkValidations() {

        if (!$('#FirstName').val()) {
            toastr.error('First Name is required');
        }
        if (!$('#LastName').val()) {

            toastr.error('Last Name is required');
        }

        if (!$('#Company').val()) {

            toastr.error('Company is required');
        }

        if (!$('#Ph");
            WriteLiteral(@"oneNumber').val()) {

            toastr.error('Phone is required');
        }


        if (!$('#Email').val()) {

            toastr.error('Email is required');
        }


        if (!$('#Designation').val()) {

            toastr.error('Designation is required');
        }

        //if (!$('#DateOfBirth').val()) {
        //    toastr.error('Dob is required');
        //}


    }

    function _calculateAge() {
        var today = new Date();
        var dob = new Date($('#DateOfBirth').val());
        var age = today.getFullYear() - dob.getFullYear();
        if (age < 13) {
            //$('#DobError').html('Your age must be 18+');
            toastr.error('Your age must be 13+');
            return false;
        }
        else {
            return true;
        }

    }

    function emailValidation() {
        value = document.getElementById('Email').value;
        apos = value.indexOf(""");
            WriteLiteral(@"@"");
        dotpos = value.lastIndexOf(""."");
        lastpos = value.length - 1;
        if (apos < 1 || dotpos - apos < 2 || lastpos - dotpos > 3 || lastpos - dotpos < 2) {
            //$('#EmailError').html('Invalid Email Address');
            toastr.error('Invalid Email Address');
            return false;
        } else {
            return true;
        }
    }

    function onSubmit() {
        var d = document.getElementById('userInfo');
        if (d.checkValidity() && emailValidation() == true && validateMobile() == true) {
            var model = $('#userInfo').serialize()
            console.log(model, ""model"");
            /* $.post(""/Admin/PostRegisteration?"" + model, function (data) {*/
            $.post('/Admin/UpdateRegisteration?' + model, { roles: dropDownValue, regions: regiondropDown }, function (data) {
                console.log(data.result, ""Return"");
                if (data.result == true) {
                    toastr.success('Success');
                    ");
            WriteLiteral(@"setTimeout(function () {
                        window.location.reload();
                    }, 3000);
                }
                else {
                    setTimeout(function () {
                        toastr.error('Error!');
                    }, 2000);

                };
            });
        }
        checkValidations();
    }



    function formatDate(date) {
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();

        var formatted = year + ""-"" + (month < 10 ? ""0"" : """") + month + ""-"" + (day < 10 ? ""0"" : """") + day;
        return formatted;
    }

    function formatTime(date) {
        var hour = date.getHours();
        var min = date.getMinutes();

        var formatted = hour + "":"" + (min < 10 ? ""0"" : """") + min;
        return formatted;
    }


    function validateMobile() {

        reg = /^(?:02|03|04|06|07|09|050|051|052|054|055|056|058)[0-9]{7}$/;

        if (!reg.test($('#Phon");
            WriteLiteral(@"eNumber').val())) {
            toastr.error('Invalid mobile number');
            return false;
        }
        else {
            return true;
        }
    }

</script>


<div class=""card shadow mb-4"">
    <!-- Card Header - Accordion -->
    <a href=""#collapseCardExample"" class=""d-block card-header py-3"" data-toggle=""collapse"" role=""button"" aria-expanded=""true"" aria-controls=""collapseCardExample"">
        <h6 class=""m-0 font-weight-bold text-primary"">User Registrartion</h6>
    </a>
    <!-- Card Content - Collapse -->
    <div class=""collapse show"" id=""collapseCardExample""");
            BeginWriteAttribute("style", " style=\"", 5616, "\"", 5624, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n        <div class=\"card-body\">\r\n\r\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a282267781c4a5f8b2431ccf25533a8583490f35f28cfd14bb48eca6862e54f011189", async() => {
                WriteLiteral(" \r\n                <div class=\"form-row\">\r\n                    <div class=\"form-group col-md-6\">\r\n                        <label for=\"FirstName\" class=\"col-sm-3 col-form-label\">First Name <em class=\"text-danger\">*</em></label>\r\n");
                WriteLiteral(@"                        <input type=""text"" class=""form-control"" id=""FirstName"" name=""FirstName"" placeholder=""FIRST NAME"" required>
                    </div>
                    <div class=""form-group col-md-6"">
                        <label for=""LastName"" class=""col-sm-3 col-form-label"">Last Name <em class=""text-danger"">*</em></label>
                        <input type=""text"" class=""form-control"" id=""LastName"" name=""LastName"" placeholder=""LAST NAME"" required>

                    </div>
                </div>

                <div class=""form-row"">
                    <div class=""form-group col-md-6"">
                        <label for=""staticEmail"" class=""col-sm-3 col-form-label"">Email <em class=""text-danger"">*</em></label>

                        <input type=""email"" class=""form-control"" name=""Email"" id=""Email"" placeholder=""example@domain.com"" onchange=""emailValidation()"" required>
                    </div>
                    <div class=""form-group col-md-6"">
                        <la");
                WriteLiteral(@"bel for=""Phone"" class=""col-sm-3 col-form-label"">Phone <em class=""text-danger"">*</em></label>
                        <input type=""text"" id=""PhoneNumber"" name=""Phone"" maxlength=""10"" placeholder=""0542456789"" required onchange=""validateMobile()"" class=""form-control"">

                    </div>
                </div>

                <div class=""form-row"">
                    <div class=""form-group col-md-6"">
                        <label for=""staticEmail"" class=""col-sm-3 col-form-label"">Date of Birth <em class=""text-danger"">*</em></label>
                        <input type=""date"" id=""DateOfBirth"" name=""DateOfBirth"" required onchange=""_calculateAge()"" class=""form-control"">
                    </div>
                    <div class=""form-group col-md-6"">
                        <label for=""staticEmail"" class=""col-sm-3 col-form-label"">Company <em class=""text-danger"">*</em></label>
                        <input type=""text"" class=""form-control"" id=""Company"" name=""Company"" placeholder=""COMPANY NAME"" re");
                WriteLiteral(@"quired>

                    </div>
                </div>

                <div class=""form-row"">
                    <div class=""form-group col-md-6"">
                        <label for=""staticEmail"" class=""col-sm-3 col-form-label"">Designation <em class=""text-danger"">*</em></label>
                        <input type=""text"" class=""form-control"" id=""Designation"" name=""Designation"" placeholder=""DESIGNATION"" required>
                    </div>
                </div>

                <hr class=""sidebar-divider d-none d-md-block"">

                <h3 class=""m-0 font-weight-bold text-primary"">User Login Info</h3> <br />
                <div class=""row"">
                    <div class=""col-md-4"">
                        <div class=""form-group"">
                            <label>User Name  <code>*</code></label>
                            <input type=""text"" class=""form-control"" name=""UserName"" id=""Username"" required placeholder=""Enter User Name"">
                        </div>
             ");
                WriteLiteral(@"       </div> 
                      <div class=""col-md-4"">
                        <div class=""form-group"">
                            <label>Roles </label>
                            <div id=""productsDataSource""></div>
                            <input hidden id=""productsDataSource"" name=""Role"" />
                        </div>
                    </div>
                      <div class=""col-md-4"">
                            <div class=""form-group"">
                                <label>Regions </label>
                                <div id=""userRegions""></div>
                             </div>
                        </div>
                </div>
                 

                <hr class=""sidebar-divider d-none d-md-block"">
                <div class=""row"">
                    <div class=""col-md-4""></div>
                    <div class=""col-md-4"">
                        <button type=""button"" class=""btn btn-info"" onclick=""onSubmit()"">Save</button>
                        <");
                WriteLiteral("button type=\"reset\" class=\"btn btn-secondary\">Reset</button>\r\n                    </div>\r\n                    <div class=\"col-md-4\"></div>\r\n                </div>\r\n            ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
