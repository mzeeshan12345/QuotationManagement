#pragma checksum "C:\Softwares\Quotation_Management\Quotation_Management\Views\User\Index.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "167946a2ef817877f2b7e9f0d300b9c4e20c6ff75459db96e6288762e2c06216"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCoreGeneratedDocument.Views_User_Index), @"mvc.1.0.view", @"/Views/User/Index.cshtml")]
namespace AspNetCoreGeneratedDocument
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using Quotation_Management

#nullable disable
    ;
#nullable restore
#line 2 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using Quotation_Management.Models

#nullable disable
    ;
#nullable restore
#line 4 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using DevExpress.AspNetCore

#nullable disable
    ;
#nullable restore
#line 5 "C:\Softwares\Quotation_Management\Quotation_Management\Views\_ViewImports.cshtml"
using DevExtreme.AspNet.Mvc

#nullable disable
    ;
    #line default
    #line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"167946a2ef817877f2b7e9f0d300b9c4e20c6ff75459db96e6288762e2c06216", @"/Views/User/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"e5aa15149a6f814aca9c9febb58b8d5784979381ee3c7539cba075d77e91d2ea", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    internal sealed class Views_User_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\Softwares\Quotation_Management\Quotation_Management\Views\User\Index.cshtml"
   
    ViewData["Title"] = "Users";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable

            WriteLiteral(@"

<script>

    var users = [];
    var cmps = [];
    var CompanyID;
    var Pages;

    $(function () {
        CompanyID = localStorage.getItem('CompanyId');
        var getPages = JSON.parse(localStorage.getItem('Pages'));
        Pages = getPages.find(dx => dx.PageName == ""Users"");

        getUsers(CompanyID);
    });

    function getUsers(CompanyID) {
        $.get('/User/GetUsers?companyId=' + CompanyID , function (data) {
            users = data;
            console.log(users)
            usergrid(users);
        });
    }

    function usergrid(users) {
        var test = false;
        if (Pages && Pages.Create == true) {
            test = true;
        }

        $.get('/Company/GetActiveCompanies', function (data) {
            cmps = data;
       
      $(""#gridContainer"").dxDataGrid({

            dataSource: users,
            keyExpr: ""Id"",
            showBorders: true,
            paging: {
                pageSize: 10
            },
            ");
            WriteLiteral(@"columnsAutoWidth: true,
            showBorders: true,
            filterRow: {
                visible: true,
                applyFilter: ""auto""
            },
            searchPanel: {
                visible: true,
                width: 240,
                placeholder: ""Search...""
            },

            editing: {
                mode: ""row"",
                allowUpdating(e) {
                    if (Pages.Update == true) {
                        return e;
                    }
                },
                allowAdding: true,
                useIcons: true
          },
          export: {
              enabled: true,
          },
          onExporting: function (e) {
               e.fileName = ""Users""
          },
            headerFilter: {
                visible: true
            },
            columns: [
                {
                    dataField: ""UserName""
                },
                {
                    dataField: ""Name""
             ");
            WriteLiteral(@"   },
                {
                    dataField: ""Email""
                },
                {
                    dataField: ""PhoneNumber""
                },
                {
                    dataField: ""Gender""
                },
                {
                    dataField: 'CompanyId',
                    caption: 'Company', 
                    lookup: {
                        dataSource: cmps,
                        displayExpr: 'CompanyName',
                        valueExpr: 'CompanyId',
                    },
                },
                {
                    dataField: ""Designation""
              },
          {
                    type: ""buttons"",
                    buttons: [""edit"", ""delete"",
                        {
                            hint: ""Edit User"",
                            icon: ""update"",
                            onClick: function (e) {
                                console.log(e);
                                var user =");
            WriteLiteral(@" e.key;
                                console.log(user, ""iD"");
                                   //top.location.href = '/Administration/EditUser?id=' + user;
                            }
                        }]
                }],
          toolbar: {
              items: [
                  {
                      name: 'addRowButton',
                      showText: 'always',
                      options: {
                          text: 'Add New User',
                          type: 'default',
                          visible: test,
                          onClick: function () {
                              top.location.href = '/Admin/Signup';
                          }
                      },
                  },

              ],
          },
            onEditingStart: function (e) {
                console.log(e);
                var user = e.data.Id;
                console.log(user, ""iD"");
               top.location.href = '/User/EditUser?id=' + user;
    ");
            WriteLiteral(@"        } 
      });

        });
        }
</script>


<div class=""card shadow mb-4"">
    <!-- Card Header - Accordion -->
    <a href=""#collapseCardExample"" class=""d-block card-header py-3"" data-toggle=""collapse"" role=""button"" aria-expanded=""true"" aria-controls=""collapseCardExample"">
        <h6 class=""m-0 font-weight-bold text-primary"">Users</h6>
    </a>
    <!-- Card Content - Collapse -->
    <div class=""collapse show"" id=""collapseCardExample""");
            BeginWriteAttribute("style", " style=\"", 4652, "\"", 4660, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n        <div class=\"card-body\">\r\n            <div id=\"gridContainer\"></div>\r\n        </div>\r\n    </div>\r\n</div>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
